# Script Commands (OpenAI Codex)

Quick reference for `Agent/OpenAI/Scripts`.

## Core Runtime Model

- Canonical instructions source: `Agent/OpenAI/AGENTS.md`
- Repo runtime instructions mirror: `AGENTS.md`
- Consolidated rules source: `Agent/OpenAI/default.rules`
- Automation templates source: `Agent/OpenAI/Automations/*.automation.md`
- Installed Codex targets:
  - `~/.codex/AGENTS.md`
  - `~/.codex/rules/default.rules`
  - `~/.codex/skills/<skill>/`
  - `~/.codex/automations/*.automation.md`
- Optional compatibility mirror: `~/.agents/*` via `-Target agents|both` or `-MirrorAgents`

## Validate

```powershell
.\validate-codex-openai.ps1
```

## Full Install (Recommended)

```powershell
.\install-rules.ps1
```

Options:

```powershell
.\install-rules.ps1 -Target codex|agents|both -Scope global|project|both -DryRun
.\install-rules.ps1 -MirrorAgents -DryRun
.\install-rules.ps1 -SkipSkills -SkipAutomations -DryRun
```

## Individual Installers

```powershell
.\install-agents.ps1 -Target codex|agents|both -Scope global|project|both -DryRun
.\install-codex-rules.ps1 -Target codex|agents|both -DryRun
.\install-skills.ps1 -Target codex|agents|both -DryRun
.\install-automations.ps1 -Target codex|agents|both -DryRun
```

## Deprecation Cleanup

```powershell
.\deprecation-checker.ps1 -DryRun
```

## MCP Setup

```powershell
..\..\..\MCP-Servers\scripts\install-mcp-servers.ps1 -Vendor openai -ServerNames "filesystem", "git"
..\..\..\MCP-Servers\scripts\set-mcp-secrets.ps1
..\..\..\MCP-Servers\scripts\setup_lazy_load.ps1 -ClientName "OpenAI ChatGPT/Codex"
```

## MCP Runtime Cleanup (After Use)

Terminate stale MCP runtime processes after MCP-heavy sessions:

```powershell
Get-Process -Name "docker-mcp" -ErrorAction SilentlyContinue | Stop-Process -Force
```

Optional verification:

```powershell
Get-Process -Name "docker-mcp" -ErrorAction SilentlyContinue
```

## Deprecated Scripts

Deprecated scripts are archived in:

- `Agent/OpenAI/Scripts/deprecated-Scripts/build-agents.ps1`

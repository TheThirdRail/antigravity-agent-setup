<?xml version="1.0" encoding="UTF-8"?>
<workflow name="tutor" thinking="Normal">
  <metadata>
    <description>Tutor Mode - Generate educational documentation for learning the codebase</description>
  </metadata>

  <purpose>Create educational documentation to help understand the codebase.</purpose>

  <when_to_use>
    <trigger>Learning a new codebase</trigger>
    <trigger>Wanting to understand how files connect</trigger>
    <trigger>Teaching someone else the project</trigger>
  </when_to_use>

  <request_parsing>
    <instruction>Read user's request to determine which type of documentation they want:</instruction>
    <option user_says="Tutor OR Give me an overview">Generate PROJECT_OVERVIEW.md only</option>
    <option user_says="Tutor [filename] OR Explain [file]">Generate in-depth explainer for ONE file</option>
    <option user_says="Tutor Project OR Document everything">Generate overview + explainer for ALL files</option>
  </request_parsing>

  <setup first_time_only="true">
    <action>Create the education/ folder if it doesn't exist</action>
    <action>Add education/ to .gitignore if not already present</action>
  </setup>

  <output_options>
    <option name="Project Overview" output="education/PROJECT_OVERVIEW.md">
      <content>Project file structure (tree view)</content>
      <content>Quick explainer for each file (1-3 sentences)</content>
      <content>Purpose of each file</content>
      <content>How files connect to each other</content>
      <content>Entry points and main flows</content>
    </option>

    <option name="Single File Explainer" output="education/[filename]_explained.md">
      <content>What the file does (plain English)</content>
      <content>Key concepts used (loops, functions, classes, etc.)</content>
      <content>Line-by-line or section-by-section breakdown</content>
      <content>How it connects to other files</content>
      <content>Analogies where helpful</content>
      <content>Common modifications developers make</content>
    </option>

    <option name="Full Project Documentation">
      <output>education/PROJECT_OVERVIEW.md (structure + summaries)</output>
      <output>education/[filename]_explained.md for EVERY source file</output>
    </option>
  </output_options>

  <writing_style>
    <rule>Use plain English, not jargon</rule>
    <rule>Include analogies to real-world concepts</rule>
    <rule>Define technical terms the first time they appear</rule>
    <rule>Use code snippets with explanations</rule>
    <rule>Include "Why it matters" sections</rule>
  </writing_style>

  <output_location>All files go in the education/ folder in the project root.</output_location>

  <exit_criteria>
    <criterion>Requested documentation created</criterion>
    <criterion>Files are in education/ folder</criterion>
    <criterion>User confirms understanding</criterion>
  </exit_criteria>
</workflow>
